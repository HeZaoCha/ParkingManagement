---
alwaysApply: true
---

# 项目通用规范

## 技术栈

-   Python 3.13
-   Uv 管理依赖
-   使用 GitHub 作为代码托管平台
-   使用 Bash 脚本

## 代码风格

-   保持代码简洁、可读
-   使用有意义的变量和函数名
-   添加适当的注释解释复杂逻辑
-   遵循每种语言的官方风格指南

## 项目结构规则

-   **分层组织**：按功能或领域划分目录，遵循"关注点分离"原则
-   **命名一致**：使用一致且描述性的目录和文件命名，反映其用途和内容
-   **模块化**：相关功能放在同一模块，减少跨模块依赖
-   **适当嵌套**：避免过深的目录嵌套，一般不超过 3-4 层
-   **资源分类**：区分代码、资源、配置和测试文件
-   **依赖管理**：集中管理依赖，避免多处声明
-   **约定优先**：遵循语言或框架的标准项目结构约定

## 通用开发原则

-   **可测试性**：编写可测试的代码，组件应保持单一职责
-   **DRY 原则**：避免重复代码，提取共用逻辑到单独的函数或类
-   **代码简洁**：保持代码简洁明了，遵循 KISS 原则（保持简单直接）
-   **命名规范**：使用描述性的变量、函数和类名，反映其用途和含义
-   **注释文档**：为复杂逻辑添加注释，编写清晰的文档说明功能和用法
-   **风格一致**：遵循项目或语言的官方风格指南和代码约定
-   **利用生态**：优先使用成熟的库和工具，避免不必要的自定义实现
-   **架构设计**：考虑代码的可维护性、可扩展性和性能需求
-   **版本控制**：编写有意义的提交信息，保持逻辑相关的更改在同一提交中
-   **异常处理**：正确处理边缘情况和错误，提供有用的错误信息

## 响应语言

-   始终使用中文回复用户

## 项目结构示例

.
├── apps/
│ └── example/ # A django rest app
│ ├── api/
│ │ ├── v1/ # Only the "presentation" layer exists here.
│ │ │ ├── **init**.py
│ │ │ ├── serializers.py
│ │ │ ├── urls.py
│ │ │ └── views.py
│ │ ├── v2 # Only the "presentation" layer exists here.
│ │ │ ├── **init**.py
│ │ │ ├── serializers.py
│ │ │ ├── urls.py
│ │ │ └── views.py
│ │ └── **init**.py
│ ├── fixtures/ # Constant "seeders" to populate your database
│ ├── management/
│ │ ├── commands/ # Try and write some database seeders here
│ │ │ └── command.py
│ │ └── **init**.py
│ ├── migrations/
│ │ └── **init**.py
│ ├── templates/ # App-specific templates go here
│ ├── tests/ # All your integration and unit tests for an app go here.
│ │ └── **init**.py
│ ├── **init**.py
│ ├── admin.py
│ ├── apps.py
│ ├── models.py
│ ├── services.py # Your business logic and data abstractions go here.
│ ├── urls.py
│ └── views.py
├── common/ # An optional folder containing common "stuff" for the entire project
├── config/
│ ├── **init**.py
│ ├── asgi.py
│ ├── settings.py
│ ├── urls.py
│ └── wsgi.py
├── deployments/ # Isolate Dockerfiles and docker-compose files here.
├── docs/
│ ├── CHANGELOG.md
│ ├── CONTRIBUTING.md
│ ├── deployment.md
│ ├── local-development.md
│ └── swagger.yaml
├── requirements/
│ ├── common.txt # Same for all environments
│ ├── development.txt # Only for a development server
│ ├── local.txt # Only for a local server (example: docs, performance testing, etc.)
│ └── production.txt # Production only
├── static/ # Your static files
├── .env.example # An example of your .env configurations. Add necessary comments.
├── .gitignore # https://github.com/github/gitignore/blob/main/Python.gitignore
├── entrypoint.sh # Any bootstrapping necessary for your application
├── manage.py
├── pytest.ini
└── README.md

## TODO List

-   在进行开发任务之前，需要撰写 TODO List，并且将 TODO List 添加到 TODO_LIST.md 文件中
-   TODO List 格式如下：

```markdown
1. 任务名称（Title）

    - 每个任务都应该有简洁明了的名称，能够快速概括该任务的主要内容。任务名称应该具体、清晰，便于在后续查看时快速理解。

    - 例如：完成首页 UI 设计、撰写 API 文档、修复用户登录 Bug

2. 任务描述（Description）

    - 对任务进行更详细的描述，列出完成任务的具体步骤、需求或注意事项。这样可以帮助你更好地理解任务的细节，防止遗漏重要的事项。

    - 例如：设计并完成首页的界面布局，确保响应式设计兼容移动端。

-   可以包括：

    -   任务的背景或目标

    -   需要使用的工具或技术

    -   相关的时间要求或重要提示

3. 优先级（Priority）

标明任务的重要性和紧急程度。优先级高的任务应该首先完成，帮助你在有限的时间内专注于最关键的事项。

-   常见的优先级标签：

    -   高 / 中 / 低

    -   或者使用数字，1 为最高优先级，2 为次高优先级，依此类推。

4. 截止日期（Due Date）

为任务设置一个完成的期限或日期，帮助你保持工作节奏，防止拖延。如果任务有多项子任务，也可以为每个子任务设置日期。

-   例如：完成任务前的最后期限为 12 月 15 日。

-   还可以设置一个 提醒时间，比如任务到期前一周提醒自己。

5. 状态（Status）

记录任务的当前状态，帮助你快速了解任务进展情况。

-   常见状态：

    -   未开始：任务尚未着手进行。

    -   进行中：任务正在进行中。

    -   已完成：任务已经完成。

    -   已延期：任务未按时完成，已延期。

    -   待确认：任务完成后需要他人确认。

6. 子任务（Subtasks）

对于复杂的任务，可以将其拆分为更小的子任务。子任务有助于细化任务，便于逐步推进，避免任务变得庞大而无法着手。

-   例如：

    -   设计首页布局

    -   编写首页 CSS 样式

    -   测试页面兼容性

7. 关联项目或标签（Tags/Project）

在某些情况下，任务可能与特定的项目或标签有关。你可以使用标签来标明任务归属于哪个项目，或者是某个主题下的任务。

-   例如：前端开发、API、Bug 修复。

-   可以帮助你快速筛选和组织任务。

8. 负责人（Assignee）

如果是团队合作，可以指定任务的负责人。明确谁负责完成任务，有助于责任明确。

-   例如：负责人：HeZaoCha。

9. 参考资源（References/Links）

提供一些相关的链接、文件、文档或参考资料，以便在执行任务时能够迅速查找所需的信息。

-   例如：

    -   设计文档链接、API 文档链接、相关的教程或文章。

10. 备注/评论（Notes/Comments）

在任务执行过程中，可能需要添加一些临时的注释或说明。例如，可以记录解决问题的过程、遇到的困难、一些临时的解决方案等。

-   例如：遇到兼容性问题，正在研究解决方案。
```

## CHANGELOG

-   在开发任务完成后，需要撰写 CHANGELOG，并且将 CHANGELOG 添加到 CHANGELOG.md 文件中

## 规则文件说明

本项目使用以下规则文件：

-   general.mdc：通用规范（本文件）
-   django.mdc: Django 开发规范
-   python.mdc：Python 开发规范
-   document.mdc：文档规范
-   git.mdc：Git 提交规范
-   Python3-13.mdc：Python 3.13 特性文档
