{# 消息提示组件 - 支持主题系统 #}
{% if messages %}
<div class="mb-6 space-y-2" role="region" aria-live="polite" aria-label="系统消息">
  {% for message in messages %}
  <div class="flex items-center gap-3 px-4 py-3 rounded-xl animate-slide-up
              {% if message.tags == 'success' %}bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800
              {% elif message.tags == 'error' %}bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 border border-red-200 dark:border-red-800
              {% elif message.tags == 'warning' %}bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border border-amber-200 dark:border-amber-800
              {% else %}bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 border border-blue-200 dark:border-blue-800{% endif %}"
       role="alert"
       aria-label="{% if message.tags == 'success' %}成功消息{% elif message.tags == 'error' %}错误消息{% elif message.tags == 'warning' %}警告消息{% else %}信息消息{% endif %}">
    <i class="fas {% if message.tags == 'success' %}fa-check-circle{% elif message.tags == 'error' %}fa-exclamation-circle{% elif message.tags == 'warning' %}fa-exclamation-triangle{% else %}fa-info-circle{% endif %} text-lg" aria-hidden="true"></i>
    <span class="flex-1">{{ message }}</span>
    <button type="button"
            onclick="this.parentElement.style.opacity='0'; setTimeout(() => this.parentElement.remove(), 200);" 
            class="p-1 opacity-70 hover:opacity-100 transition-opacity"
            aria-label="关闭消息">
      <i class="fas fa-times" aria-hidden="true"></i>
    </button>
  </div>
  {% endfor %}
</div>
{% endif %}
